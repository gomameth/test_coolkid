# -*- coding: utf-8 -*-
"""coolkid_result,ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1D2aiTBDZuTudGQpJNPrpfLEeoMIqXt_S
"""

import streamlit as st
import pandas as pd

def load_data():
    return [
        {"name": "Sushi Delight", "cuisine": "Japanese", "rating": 4.5, "location": "Downtown Mall", "promo": {"Visa": "10% off", "Mastercard": "5% off", "SCB": "Free drink"}},
        {"name": "Steak House", "cuisine": "Western", "rating": 4.8, "location": "Uptown Plaza", "promo": {"Visa": "5% cashback", "Mastercard": "Free dessert", "SCB": "10% off"}},
        {"name": "Spicy Thai", "cuisine": "Thai", "rating": 4.3, "location": "Chinatown Square", "promo": {"Visa": "15% off", "Mastercard": "5% off", "SCB": "10% off"}},
        {"name": "Pasta Haven", "cuisine": "Italian", "rating": 4.7, "location": "City Center Mall", "promo": {"Visa": "Buy 1 Get 1 Free", "Mastercard": "10% off", "SCB": "5% cashback"}},
        {"name": "Burger Bliss", "cuisine": "American", "rating": 4.6, "location": "Mall Area", "promo": {"Visa": "5% cashback", "Mastercard": "Free fries", "SCB": "10% off"}}
    ]

def main():
    st.title("üçΩÔ∏è Restaurant Information & Credit Card Promotions")

    # Load Data
    df = pd.DataFrame(load_data())

    # Search Bar
    search_query = st.text_input("Search for a restaurant or cuisine:")

    # Filter results
    if search_query:
        filtered_df = df[df.apply(lambda row: search_query.lower() in row.to_string().lower(), axis=1)]
    else:
        filtered_df = df

    # Display results
    if not filtered_df.empty:
        for _, row in filtered_df.iterrows():
            with st.container():
                st.subheader(row["name"])
                st.write(f"**Cuisine:** {row['cuisine']}")
                st.write(f"**Rating:** ‚≠ê {row['rating']}")
                st.write(f"**Location:** {row['location']}")

                # Display Promotion Table
                st.write("### üéâ Credit Card Promotions")
                promo_df = pd.DataFrame(list(row["promo"].items()), columns=["Credit Card", "Promotion"])
                st.table(promo_df)

                st.markdown("---")
    else:
        st.warning("No results found. Try a different search.")

if __name__ == "__main__":
    main()